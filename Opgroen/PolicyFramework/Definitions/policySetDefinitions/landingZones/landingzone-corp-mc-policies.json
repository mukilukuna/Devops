{
  "name": "landingzone-corp-mc-policies",
  "properties": {
    "displayName": "Corporate Landing Zone Managed Cloud Policy Set Definitions",
    "description": "This initiative deploys Corporate Landing Zone Managed Cloud policies cloud governance and automation.",
    "metadata": {
      "version": "1.0.0",
      "category": "Network"
    },
    "policyDefinitionGroups": [
      {
        "name": "C.01 - landing zones",
        "category": "Corporate",
        "displayName": "C.01 - Deny Public IP",
        "description": "Deny Public IP"
      },
      {
        "name": "C.02 - landing zones",
        "category": "Corporate",
        "displayName": "C.02 - Deny Public Endpoints",
        "description": "Deny Public Endpoints"
      },
      {
        "name": "C.03 - landing zones",
        "category": "Corporate",
        "displayName": "C.03 - Enforce vNet Intergration",
        "description": "Enforce vNet Intergration"
      },
      {
        "name": "C.04 - landing zones",
        "category": "Corporate",
        "displayName": "C.04 - Deny Private DNS Zones",
        "description": "Deny Private DNS Zones"
      }
    ],
    "parameters": {
      "effect": {
        "type": "String",
        "metadata": {
          "displayName": "Effect",
          "description": "Enable or disable the execution of the policy"
        },
        "allowedValues": [
          "Audit",
          "Deny",
          "Disabled"
        ],
        "defaultValue": "Deny"
      }
    },
    "policyDefinitions": [
      {
        "policyDefinitionReferenceId": "Deny-NetworkInterfaces-publicIPs",
        "parameters": {},
        "groupNames": [
          "C.01 - landing Zones"
        ],
        "policyDefinitionName": "83a86a26-fd1f-447c-b59d-e51f44264114"
      },
      {
        "policyDefinitionReferenceId": "Deny-EventHubNamespaces-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "0602787f-9896-402a-a6e1-39ee63ee435e"
      },
      {
        "policyDefinitionReferenceId": "Deny-CognitiveServices-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "0725b4dd-7e76-479c-a735-68e7ee23d5ca"
      },
      {
        "policyDefinitionReferenceId": "Deny-AzureDatabricksWorkspaces-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "0e7849de-b939-4c50-ab48-fc6b0f5eeba2"
      },
      {
        "policyDefinitionReferenceId": "Deny-FunctionApp-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "11c82d0c-db9f-4d7b-97c5-f3f9aa957da2"
      },
      {
        "policyDefinitionReferenceId": "Deny-PreviewAzureKeyVaultManagedHSM-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "19ea9d63-adee-4431-a95e-1913c6c1c75f"
      },
      {
        "policyDefinitionReferenceId": "Deny-AzureEventGrid-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "1adadefe-5f21-44f7-b931-a59b54ccdb45"
      },
      {
        "policyDefinitionReferenceId": "Deny-AppServiceApps-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "1b5ef780-c53c-4a64-87f3-bb9c8c8094ba"
      },
      {
        "policyDefinitionReferenceId": "Deny-AzureSignalRService-PublicNetworkAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "21a9766a-82a5-4747-abb5-650b6dbba6d0"
      },
      {
        "policyDefinitionReferenceId": "Deny-SynapseWorkspaces-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "38d8df46-cf4e-4073-8e03-48c24b29de0d"
      },
      {
        "policyDefinitionReferenceId": "Deny-AppConfiguration-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "3d9f5e4c-9947-4579-9539-2a7695fbc187"
      },
      {
        "policyDefinitionReferenceId": "Deny-KeyVault-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "405c5871-3e91-4644-8a63-58e19d68ff5b"
      },
      {
        "policyDefinitionReferenceId": "Deny-MachineLearningWorkspaces-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "438c38d2-3772-465a-a9cc-7a6666a275ce"
      },
      {
        "policyDefinitionReferenceId": "Deny-RedisCache-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "470baccb-7e51-4549-8b1a-3e5be069f663"
      },
      {
        "policyDefinitionReferenceId": "Deny-AttestationProviders-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "5e7e928c-8693-4a23-9bf3-1c77b9a8fe97"
      },
      {
        "policyDefinitionReferenceId": "Deny-AppServiceSlots-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "701a595d-38fb-4a66-ae6d-fb3735217622"
      },
      {
        "policyDefinitionReferenceId": "Deny-CosmosDB-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "797b37f7-06b8-444c-b1ad-fc62867f335a"
      },
      {
        "policyDefinitionReferenceId": "Deny-ArcPrivateLinkScopes-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "898f2439-3333-4713-af25-f1d78bc50556"
      },
      {
        "policyDefinitionReferenceId": "Deny-MediaServicesAccounts-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "8bfe3603-0888-404a-87ff-5c1b6b4cc5e3"
      },
      {
        "policyDefinitionReferenceId": "Deny-AutomationAccounts-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "955a914f-bf86-4f0e-acd5-e0766b0efcb6"
      },
      {
        "policyDefinitionReferenceId": "Deny-FuntionApps-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "969ac98b-88a8-449f-883c-2e9adb123127"
      },
      {
        "policyDefinitionReferenceId": "Deny-SQLManagedInstances-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "9dfea752-dd46-4766-aed1-c355fa93fb91"
      },
      {
        "policyDefinitionReferenceId": "Deny-RecoveryServicesVault-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "9ebbbba3-4d65-4da9-bb67-b22cfaaff090"
      },
      {
        "policyDefinitionReferenceId": "Deny-StorageAccounts-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "b2982f36-99f2-4db5-8eff-283140c09693"
      },
      {
        "policyDefinitionReferenceId": "Deny-WebPubSubService-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "bf45113f-264e-4a87-88f9-29ac8a0aca6a"
      },
      {
        "policyDefinitionReferenceId": "Deny-ServiceBusNamespaces-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "cbd11fd3-3002-4907-b6c8-579f0e700e13"
      },
      {
        "policyDefinitionReferenceId": "Deny-ContainerApps-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "d074ddf8-01a5-4b5e-a2b8-964aed452c0a"
      },
      {
        "policyDefinitionReferenceId": "Deny-IOTHubDeviceProvisioning-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "d82101f3-f3ce-4fc5-8708-4c09f4009546"
      },
      {
        "policyDefinitionReferenceId": "Deny-APIManagementServices-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "b741306c-968e-4b67-b916-5675e5c709f4"
      },
      {
        "policyDefinitionReferenceId": "Deny-CognitiveSearchServices-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "ee980b6d-0eca-4501-8d54-f6290fd512c3"
      },
      {
        "policyDefinitionReferenceId": "Deny-EventGridDomains-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "f8f774be-6aee-492a-9e29-486ef81f3a68"
      },
      {
        "policyDefinitionReferenceId": "Deny-DataFactory-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "1cf164be-6819-4a50-b8fa-4bcaa4f98fb6"
      },
      {
        "policyDefinitionReferenceId": "Deny-AzureFileSync-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "21a8cd35-125e-4d13-b82d-2e19b7208bb7"
      },
      {
        "policyDefinitionReferenceId": "Deny-AzureSqlDB-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "1b8ca024-1d5c-4dec-8995-b1a932b41780"
      },
      {
        "policyDefinitionReferenceId": "Deny-ContainerRegistry-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "0fdf0491-d080-4575-b627-ad0e843cba0f"
      },
      {
        "policyDefinitionReferenceId": "Deny-IOTHubs-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "2d6830fb-07eb-48e7-8c4d-2a442b35f0fb"
      },
      {
        "policyDefinitionReferenceId": "Deny-PostgreSQLFlex-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "5e1de0e3-42cb-4ebc-a86d-61d0c619ca48"
      },
      {
        "policyDefinitionReferenceId": "Deny-MySQLFlex-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "c9299215-ae47-4f50-9c54-8a392f68a052"
      },
      {
        "policyDefinitionReferenceId": "Deny-BotService-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "5e8168db-69e3-4beb-9822-57cb59202a9d"
      },
      {
        "policyDefinitionReferenceId": "Deny-BatchAccounts-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "74c5a0ae-5e48-4738-b093-65e23a060488"
      },
      {
        "policyDefinitionReferenceId": "Deny-PostgreSQL-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "b52376f7-9612-48a1-81cd-1ffe4b61032c"
      },
      {
        "policyDefinitionReferenceId": "Deny-MySQL-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "d9844e8a-1437-4aeb-a32c-0c992f056095"
      },
      {
        "policyDefinitionReferenceId": "Deny-MariaDB-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "fdccbe47-f3e3-4213-ad5d-ea459b2fa077"
      },
      {
        "policyDefinitionReferenceId": "Deny-IOTCentral-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "cd870362-211d-4cad-9ad9-11e5ea4ebbc1"
      },
      {
        "policyDefinitionReferenceId": "Deny-AKS-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "040732e8-d947-40b8-95d6-854c95024bf8"
      },
      {
        "policyDefinitionReferenceId": "Deny-LogAnalyticsWorkspace-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "6c53d030-cc64-46f0-906d-2bc061cd1334"
      },
      {
        "policyDefinitionReferenceId": "Deny-ApplicationInsights-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "1bc02227-0cb6-4e11-8f53-eb0b22eab7e8"
      },
      {
        "policyDefinitionReferenceId": "Deny-AMPLS-PublicAccess",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.02 - landing zones"
        ],
        "policyDefinitionName": "a499fed8-bcc8-4195-b154-641f14743757"
      },
      {
        "policyDefinitionReferenceId": "Enforce-DataBricks-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "Deny-Databricks-VirtualNetwork"
      },
      {
        "policyDefinitionReferenceId": "Enforce-ContainerAppEnvironment-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "8b346db6-85af-419b-8557-92cee2c0f9bb"
      },
      {
        "policyDefinitionReferenceId": "Enforce-DataExplorer-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "9ad2fd1f-b25f-47a2-aa01-1a5a779e6413"
      },
      {
        "policyDefinitionReferenceId": "Enforce-SpringCloud-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "af35e2a4-ef96-44e7-a9ae-853dd97032c4"
      },
      {
        "policyDefinitionReferenceId": "Enforce-AppServiceApps-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "72d04c29-f87d-4575-9731-419ff16a2757"
      },
      {
        "policyDefinitionReferenceId": "Enforce-ContainerInstance-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "8af8f826-edcb-4178-b35f-851ea6fea615"
      },
      {
        "policyDefinitionReferenceId": "Enforce-ApiManagement-VnetIntegration",
        "parameters": {
          "effect": {
            "value": "[parameters('effect')]"
          }
        },
        "groupNames": [
          "C.03 - landing zones"
        ],
        "policyDefinitionName": "Deny-APIManagement-VirtualNetwork"
      }
    ]
  }
}