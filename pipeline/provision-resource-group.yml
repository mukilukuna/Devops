# This YAML configuration is for provisioning an Azure resource group.
# It includes stages and jobs for running Azure CLI tasks.
# The tasks call a PowerShell script with parameters to create a new resource group.
trigger: none
pool: default

stages:
  - stage: StageProvisionResourceGroup
    displayName: "Stage: Provision Resource Group"
    jobs:
      - job: JobProvisionResourceGroup
        displayName: "Job: Provision Resource Group"
        steps:
          - task: AzureCLI@2
            inputs:
              azureSubscription: "Visual Studio Enterprise-abonnement â€“ MPN(c0b52ba4-df61-49cf-ab65-315eb1152086)"
              scriptType: "ps"
              scriptLocation: "scriptPath"
              scriptPath: "$(System.DefaultWorkingDirectory)/scripts/devops.ps1"
              scriptArguments: '-location westeurope `
                -resourceGroupName "rg-404da-mktg-pdb-ne-dev-001" `
                -owner "Lukuna B.V." `
                -costCenter "112245" `
                -application "Beroeps Product" `
                -description "Applicatie voor het versnellen van de productie van de Beroeps producten" `
                -repo "https://github.com/mukilukuna/Devops"'
              FailOnStandardError: true
